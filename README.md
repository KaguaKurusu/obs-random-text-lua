# Random Text Lua
**A plugin to display a random string from a list or sequential numbers.**  
[![MIT License](https://img.shields.io/badge/license-MIT-blue)](LICENSE)

## 概要
連続した数値内または文字列リスト内からランダムに任意のテキストソースへ表示させるOBSスクリプトです。  
毎回抽選項目すべての中から抽選します。

## ダウンロード
[リリースページ](https://github.com/KaguaKurusu/obs-random-text-lua/releases/)よりダウンロード。

## インストール
ダウンロードしたファイルを任意の場所に解凍。  
(OBSインストール先\data\obs-plugins\frontend-tools\scripts内にrandom_text.luaを配置が推奨)  
OBSを起動し、下記手順でOBSに追加。  
1.メニューバーのツール > スクリプトをクリック。  
2.表示されたダイアログ左下の＋ボタンをクリック。  
3.表示されたファイル選択ダイアログでrandom_text.luaを選択し、開くをクリック。

## アップデート
OBSを起動していない時にダウンロードしたファイルで旧ファイルを上書き。  
OBS起動中にファイルを上書きした場合は、スクリプトダイアログにてrandom_text.luaを選択し、左下のスクリプト再読み込みボタン(🔄みたいなマーク)をクリック。

## ショートカットの設定方法
OBSのメニューバー > ファイル > 設定などより設定ダイアログを表示。  
ホットキーのタブを選択。  
抽選[Random text Lua]の右横にあるテキストボックスを選択。  
設定したいショートカットキーを押す。  
右下のOKボタンをクリック。

## 使用方法
任意のシーンにテキストを空にしたテキストソースを追加。（テキスト以外は任意に設定可能）  
メニューバーのツール > スクリプトでスクリプトダイアログを表示し、random_text.luaを選択。  
テキストソースの選択  
下記を参考に設定を行う  
設定したショートカットキーを押すか、スクリプトダイアログの抽選ボタンをクリック。

### 連続する数値内から抽選する場合  
「連続する数値内から抽選する」のチェックボックスをONにする。  
開始数値と終了数値を設定する。  
開始値より終了値の方が小さくても問題ないです。
例： 開始数値を1、終了数値を6に設定した場合、1,2,3,4,5,6の中からランダムに表示します。

### 文字列リストから抽選する場合
「文字列リスト」の右側にあるテキストボックスに抽選対象にしたい項目を1行ずつ記載する。

### ブランク時間について
ブランク時間はアニメーションを使用しない場合に結果を表示する前に何も表示しない時間数(ミリ秒)です。  
(1ミリ秒＝1/1000秒)

### アニメーションを使用する場合
「アニメーションを使用する」のチェックボックスをONにする。  
結果表示までの時間、切り替え時間、減速量を設定する。  
結果表示までの時間は抽選開始から結果を表示するまでの時間です。  
切り替え時間は減速量0の場合に表示している項目を変更する時間です。  
減速量は切り替え時間の増加量です。  
BGM再生を有効にするのチェックボックスをONにした場合、オーディオファイルのパスに記載されているファイルをアニメーション中にループ再生します。

### 結果表示時の効果音の付け方
結果表示時のオーディオファイル再生を有効にするのチェックボックスをONにして、参照ボタンをクリックしてオーディオファイルを選択してください。  
結果表示時に選択したファイルが再生されます。

### オーディオ再生について
確認済みの使用可能なオーディオファイルはMP3、OGG、AAC、M4A(AAC, Apple lossless)です。  
他にもFFMPEG(libavcodec)が対応しているオーディオファイルは使用可能な可能性があります。  
参考： [https://ja.wikipedia.org/wiki/Libavcodec#実装しているオーディオコーデック](https://ja.wikipedia.org/wiki/Libavcodec#実装しているオーディオコーデック)  
  
音量は元のファイルの音量の倍率です。  
1なら100%、0.5なら50%という感じです。  
配信等で実際に使う前に音量調整しておくことをお勧めします。
  
音声モニタリングはオーディオの詳細プロパティにあるものと同様の仕様です。  
お好みで設定してください。

## 動作確認済み環境
Windows 10 OBS Studio 27.2.4(64bit)

## ライセンス
本スクリプトは[MIT](LICENSE)にて公開しております。  
&copy; 2022, [来栖華紅鴉](https://twitter.com/kagua_kurusu)